api:
  definitions:
  - name: GreetUserPath
    data: !Struct
      doc: null
      properties:
      - name: user
        rename: user
        default: null
        type_: String
        doc: The name of the user to greet.
  - name: GreetUserError
    data: !ApiErr
      doc: |-
        Status NOT_FOUND:
        User not found

        Status BAD_REQUEST:
        Input data error
      variants:
      - name: NotFound
        detail: Not found
        code: NOT_FOUND
      - name: InvalidCharacterInName
        detail: Invalid character in name
        code: BAD_REQUEST
      - name: NameContainsSpace
        detail: Name contains space
        code: BAD_REQUEST
  operations:
  - name: greet_user
    path: /hello/{user}
    method: Get
    doc: Returns a greeting to the user!
    param_path: web::Path<GreetUserPath>
    param_query: null
    param_body: null
    response: Result<web::Json<String>,Detailed<GreetUserError>>
